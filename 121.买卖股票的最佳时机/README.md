You must want to buy low and sell high.

Use minPrices maintain current the lowest price.

Current max profit is max(maxProfit, prices[i] - minPrice)

Update minPrice value is min(minPrice, prices[i]).